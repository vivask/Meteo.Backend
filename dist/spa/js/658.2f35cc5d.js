"use strict";(globalThis["webpackChunkquasar"]=globalThis["webpackChunkquasar"]||[]).push([[658],{4658:(e,l,a)=>{a.r(l),a.d(l,{default:()=>O});var o=a(9835),t=a(6970);const s={class:"q-pa-md"},n={class:"row justify-center items-start crisper"},r=(0,o.Uk)("Schedule Management"),i={class:"text-subtitle1 text-bold job-name"},d={class:"text-subtitle2"},u={class:"text-subtitle2"},m={class:"row"},c={key:0,class:"wd-50"},p={key:1,class:"wd-100 ml-10"},w={class:"row items-center justify-end"},y={class:"row items-center justify-end"},h={key:0},b={key:1};function v(e,l,a,v,W,g){const _=(0,o.up)("q-item-label"),k=(0,o.up)("q-space"),f=(0,o.up)("q-btn"),V=(0,o.up)("q-item"),P=(0,o.up)("q-td"),q=(0,o.up)("q-card-section"),C=(0,o.up)("q-card"),S=(0,o.up)("q-table"),x=(0,o.up)("q-input"),H=(0,o.up)("q-select"),z=(0,o.up)("q-time"),Z=(0,o.up)("q-popup-proxy"),D=(0,o.up)("q-icon"),Q=(0,o.up)("q-date"),U=(0,o.up)("q-card-actions"),M=(0,o.up)("q-form"),T=(0,o.up)("q-dialog"),A=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[(0,o._)("div",n,[(0,o._)("div",{class:(0,t.C_)(["square rounded-borders",v.cols])},[(0,o.Wm)(V,{class:"bot-line"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{class:"text-bold text-h6"},{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(k),v.isShowHeaderButton?((0,o.wg)(),(0,o.j4)(f,{key:0,class:"wd-100",dense:"",color:"primary",size:"12px",label:"Add",onClick:l[0]||(l[0]=e=>v.createJob=!0)})):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(S,{"hide-header":"",rows:v.rows,columns:v.columns,"row-key":"name","rows-per-page-options":[10,50,100,0]},{"body-cell-state":(0,o.w5)((e=>[(0,o.Wm)(P,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:v.activeColor(e.row),size:"md",icon:v.activeIcon(e.row),onClick:l=>v.onActivate(e.row)},null,8,["color","icon","onClick"])])),_:2},1032,["props"])])),"body-cell-job":(0,o.w5)((e=>[(0,o.Wm)(P,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{square:"",flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{align:"left"},{default:(0,o.w5)((()=>[(0,o._)("div",i,(0,t.zw)(e.row.name),1),(0,o._)("div",d,(0,t.zw)(e.row.period_1),1),(0,o._)("div",u,(0,t.zw)(e.row.period_2),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-actions":(0,o.w5)((e=>[(0,o.Wm)(P,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{dense:"",round:"",color:"primary",size:"md",icon:"add",onClick:l[1]||(l[1]=e=>v.createJob=!0)}),(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:"primary",size:"md",icon:"mdi-run",onClick:l=>v.onRun(e.row)},null,8,["onClick"]),(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:"positive",size:"md",icon:"mode_edit",onClick:l=>v.onEdit(e.row)},null,8,["onClick"]),(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:"negative",size:"md",icon:"delete",onClick:l=>v.onDelete(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])],2)])]),(0,o.Wm)(T,{modelValue:v.createJob,"onUpdate:modelValue":l[17]||(l[17]=e=>v.createJob=e),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{style:{"min-width":"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(M,{onSubmit:l[16]||(l[16]=e=>v.onSubmit(v.createJob)),class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{outlined:"",modelValue:v.name,"onUpdate:modelValue":l[2]||(l[2]=e=>v.name=e),hint:"Job description *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,o.Wm)(H,{outlined:"",modelValue:v.task,"onUpdate:modelValue":l[3]||(l[3]=e=>v.task=e),options:v.tasks,hint:"Task *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","options","rules"]),(0,o.Wm)(H,{outlined:"",modelValue:v.executor,"onUpdate:modelValue":l[4]||(l[4]=e=>v.executor=e),options:v.executors,hint:"Executor *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","options","rules"]),(0,o._)("div",m,[v.isShowValue?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(x,{outlined:"",modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=e=>v.value=e),"lazy-rules":"",rules:[e=>e&&e.length>0||""]},null,8,["modelValue","rules"])])):(0,o.kq)("",!0),v.isShowDays?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(H,{outlined:"",modelValue:v.day,"onUpdate:modelValue":l[6]||(l[6]=e=>v.day=e),options:v.days,hint:"Day *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","options","rules"])])):(0,o.kq)("",!0),(0,o._)("div",{class:(0,t.C_)(v.periodState)},[(0,o.Wm)(H,{outlined:"",modelValue:v.period,"onUpdate:modelValue":[l[7]||(l[7]=e=>v.period=e),l[8]||(l[8]=e=>v.onPeriodChange(e))],options:v.periods,hint:"Period *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","options","rules"])],2)]),(0,o.Wm)(x,{outlined:"",modelValue:v.time,"onUpdate:modelValue":l[10]||(l[10]=e=>v.time=e),type:"time",step:"2",disable:v.disabled,hint:"Start time"},{append:(0,o.w5)((()=>[(0,o.Wm)(D,{name:"access_time",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{modelValue:v.time,"onUpdate:modelValue":l[9]||(l[9]=e=>v.time=e),mask:"HH:mm:ss",format24h:"","with-seconds":""},{default:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o.wy)((0,o.Wm)(f,{label:"Close",color:"primary",flat:""},null,512),[[A]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","disable"]),(0,o.Wm)(x,{outlined:"",modelValue:v.date,"onUpdate:modelValue":l[12]||(l[12]=e=>v.date=e),type:"date",disable:v.disabled,hint:"Start date"},{append:(0,o.w5)((()=>[(0,o.Wm)(D,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{modelValue:v.date,"onUpdate:modelValue":l[11]||(l[11]=e=>v.date=e),mask:"YYYY-MM-DD"},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o.wy)((0,o.Wm)(f,{label:"Close",color:"primary",flat:""},null,512),[[A]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","disable"]),(0,o.Wm)(f,{dense:"",class:"wd-310",outline:"",color:"grey",label:v.labelBtnParams,onClick:l[13]||(l[13]=e=>v.onParams())},null,8,["label"]),v.showParams?((0,o.wg)(),(0,o.iD)("div",h,[(0,o.Wm)(S,{"hide-header":"","hide-bottom":"",rows:v.params,columns:v.scheme,"row-key":"name"},{"body-cell-actions":(0,o.w5)((a=>[(0,o.Wm)(P,{props:a},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{dense:"",round:"",color:"primary",size:"md",icon:"add",onClick:l[14]||(l[14]=e=>v.createParam=!0)}),(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:"positive",size:"md",icon:"mode_edit",onClick:l=>e.onEditParam(a.row)},null,8,["onClick"]),(0,o.Wm)(f,{class:"q-ml-xs",dense:"",round:"",color:"negative",size:"md",icon:"delete",onClick:l=>e.onDeleteParam(a.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])):(0,o.kq)("",!0),v.showBtnAddParam?((0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(f,{class:"wd-310",dense:"",label:"Add",color:"primary",onClick:l[15]||(l[15]=e=>v.createParam=!0)})])):(0,o.kq)("",!0),(0,o.Wm)(U,{align:"left",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{label:"Submit",type:"submit",color:"primary "}),(0,o.wy)((0,o.Wm)(f,{label:"Cancel",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[A]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(T,{modelValue:v.createParam,"onUpdate:modelValue":l[21]||(l[21]=e=>v.createParam=e),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{style:{"min-width":"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.Wm)(M,{onSubmit:l[20]||(l[20]=e=>v.onSubmitParam(v.createParam)),class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:v.paramName,"onUpdate:modelValue":l[18]||(l[18]=e=>v.paramName=e),outlined:"",hint:"Parameter name *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,o.Wm)(x,{modelValue:v.paramValue,"onUpdate:modelValue":l[19]||(l[19]=e=>v.paramValue=e),outlined:"",hint:"Parameter value *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,o.Wm)(U,{align:"left",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{label:"Submit",type:"submit",color:"primary "}),(0,o.wy)((0,o.Wm)(f,{label:"Cancel",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[A]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var W=a(9302),g=a(499);const _=[{name:"state"},{name:"job"},{name:"actions"}],k=[{active:!1,name:"ByFly PPP check time",period_1:"Повторять каждый час",period_2:""},{active:!0,name:"Sync ESP32 tables",period_1:"Повторять каждый день ",period_2:"Начиная с 02:30:00 "}],f=[{name:"name",align:"left",field:"name",sortable:!0},{name:"value",align:"left",field:"value",sortable:!0},{name:"actions"}],V=[{name:"msg",value:"message"}],P={setup(){const e=(0,W.Z)(),l=(0,g.iH)(null),a=(0,g.iH)(null),t=(0,g.iH)(null),s=(0,g.iH)(null),n=(0,g.iH)(null),r=(0,g.iH)(null),i=(0,g.iH)(!1),d=(0,g.iH)(!1),u=(0,g.iH)(null),m=(0,g.iH)(null),c=(0,g.iH)(">>"),p=(0,g.iH)(null),w=(0,g.iH)(null),y=(0,g.iH)(!1);return{createJob:(0,g.iH)(!1),columns:_,rows:k,name:l,task:a,tasks:["Telegramm msanger"],executor:t,executors:["All","Leader","Master","Slave"],value:s,day:n,days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],period:r,periods:["Once","Second","Minute","Hour","Day","Week","Day of week","Month","Year"],isShowHeaderButton:(0,o.Fl)((()=>0===k.length)),cols:(0,o.Fl)((()=>"col-"+("sm"==e.screen.name?8:"xs"==e.screen.name?11:6))),isShowValue:i,isShowDays:d,periodState:(0,o.Fl)((()=>0==i.value&&0==d.value?"wd-max":1==i.value&&0==d.value?"wd-260 ml-10":"wd-150 ml-10")),time:u,date:m,labelBtnParams:c,scheme:f,params:V,showParams:(0,o.Fl)((()=>"<<"===c.value&&0!=V.length)),showBtnAddParam:(0,o.Fl)((()=>"<<"===c.value&&0==V.length)),createParam:(0,g.iH)(!1),paramName:p,paramValue:w,disabled:y,onActivate(e){console.log(e)},onRun(e){console.log(e)},onEdit(e){console.log(e)},onDelete(e){console.log(e)},activeIcon(e){return e.active?"alarm":"alarm_off"},activeColor(e){return e.active?"positive":"grey"},onSubmit(e){this.createJob=!1},onPeriodChange(e){switch(e){case"Once":i.value=!1,d.value=!1,y.value=!0;break;case"Second":case"Minute":case"Hour":case"Day":case"Week":case"Month":case"Year":i.value=!0,d.value=!1,y.value=!1;break;case"Day of week":i.value=!0,d.value=!0,y.value=!1;break;default:console.log("Unknown period: ",e)}},onParams(){">>"==c.value?c.value="<<":c.value=">>"},onSubmitParam(e){this.createParam=!1}}},methods:{}};var q=a(1639),C=a(490),S=a(3115),x=a(136),H=a(4455),z=a(4356),Z=a(7220),D=a(4458),Q=a(3190),U=a(2074),M=a(8326),T=a(6611),A=a(7887),B=a(2857),F=a(2765),J=a(6770),j=a(2952),I=a(1821),Y=a(2146),E=a(9984),N=a.n(E);const L=(0,q.Z)(P,[["render",v],["__scopeId","data-v-12f4cc9f"]]),O=L;N()(P,"components",{QItem:C.Z,QItemLabel:S.Z,QSpace:x.Z,QBtn:H.Z,QTable:z.Z,QTd:Z.Z,QCard:D.Z,QCardSection:Q.Z,QDialog:U.Z,QForm:M.Z,QInput:T.Z,QSelect:A.Z,QIcon:B.Z,QPopupProxy:F.Z,QTime:J.Z,QDate:j.Z,QCardActions:I.Z}),N()(P,"directives",{ClosePopup:Y.Z})}}]);