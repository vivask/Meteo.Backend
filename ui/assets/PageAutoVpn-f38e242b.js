import{a as f,Q as w}from"./QTable-f6f16d1c.js";import{U as v}from"./UiBox-438aefea.js";import{u as g}from"./useUtils-85085a27.js";import{t as b}from"./tableWrapper-c43f1a46.js";import{U as h}from"./UiRoundBtn-7ea8dd22.js";import{u as k}from"./useConfirmDialog-7754cf44.js";import{_}from"./index-dc2fb6bd.js";import{K as C,r as p,k as y,aW as A,o as D,f as U,L as u,g as d,M as c}from"./vendor-7e3b54f2.js";import"./QMenu-7e13e904.js";import"./QTooltip-cd4ef32e.js";import"./QMarkupTable-3806441a.js";import"./QChip-dc1c4db6.js";import"./QItemLabel-0efd9dc5.js";import"./QItemSection-cefe5148.js";import"./format-3895543d.js";import"./jwtClient-fdc6c2bb.js";import"./NetworkError-b28af479.js";const V="/proxy/autovpn";function $(e){return b(V,e)}const x=C({name:"PageAutoVpn",components:{UiBoxVue:v,UiRoundBtnVue:h},setup(){const e=[{name:"name",label:"Host",align:"left",field:"id",sortable:!0},{name:"created",label:"Create At",align:"left",field:"created",sortable:!0,format:n=>r(n)},{name:"actions"}],o=p([]),t=$(o),i=k(),s=p([]),m={xl:6,lg:6,md:7,sm:11,xs:10},{formatLongDate:r}=g();return y(async()=>{o.value=await t.Get(!0)}),A(async()=>{o.value=await t.Get()}),{columns:e,rows:o,selected:s,wrapper:t,confirm:i,boxCols:m,formatLongDate:r,async handleIgnore(n){if(await i.show("Are you sure to ignore this items?")){const l=t.Selected(n,s.value);s.value=[],o.value=await t.Ignore(l)}},async handleDelete(n){if(await i.show("Are you sure to delete this item?")){const l=t.Selected(n,s.value);s.value=[],o.value=await t.BatchDelete(l)}}}}});function B(e,o,t,i,s,m){const r=d("ui-round-btn-vue"),n=d("ui-box-vue");return D(),U(n,{columns:e.boxCols,header:"Hosts Redirected to VPN"},{default:u(()=>[c(w,{selected:e.selected,"onUpdate:selected":o[0]||(o[0]=a=>e.selected=a),rows:e.rows,columns:e.columns,"row-key":"id",selection:"multiple","rows-per-page-options":[10,50,100,0]},{"body-cell-actions":u(a=>[c(f,{props:a},{default:u(()=>[c(r,{color:"warning",icon:"healing",tooltip:"Ignore host",onClick:l=>e.handleIgnore(a.row)},null,8,["onClick"]),c(r,{color:"negative",icon:"delete",tooltip:"Delete host",onClick:l=>e.handleDelete(a.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["selected","rows","columns"])]),_:1},8,["columns"])}const F=_(x,[["render",B]]);export{F as default};
