import{j as L,_ as W,a0 as _,c as s,m as k,q as $,n as j,Z as ie,ax as re,$ as ce,r as A,ay as de,a1 as fe,az as ve,a2 as ge,aA as he,w as D,aJ as me,aH as ye,aK as qe,aL as R,y as Pe,aM as ke,a9 as Te,l as xe,aN as Se,aO as Ce,aP as be,af as Be}from"./vendor-7e3b54f2.js";import{u as Oe,v as H,a as Ee,b as Fe,d as we,p as K,r as Q,s as Me,e as Ae}from"./QTooltip-cd4ef32e.js";const He=L({name:"QList",props:{...W,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:v}){const u=j(),r=_(e,u.proxy.$q),a=s(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>k(e.tag,{class:a.value},$(v.default))}}),Ke=L({name:"QMenu",inheritAttrs:!1,props:{...Oe,...ie,...W,...re,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:H},self:{type:String,validator:H},offset:{type:Array,validator:Ee},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ce,"click","escapeKey"],setup(e,{slots:v,emit:u,attrs:r}){let a=null,f,c,g;const T=j(),{proxy:h}=T,{$q:o}=h,n=A(null),l=A(!1),z=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),I=_(e,o),{registerTick:J,removeTick:N}=de(),{registerTimeout:x}=fe(),{transitionProps:U,transitionStyle:Z}=ve(e),{localScrollTarget:S,changeScrollEvent:G,unconfigureScrollTarget:V}=Fe(e,w),{anchorEl:i,canShow:X}=we({showing:l}),{hide:C}=ge({showing:l,canShow:X,handleShow:ae,handleHide:oe,hideOnRouteChange:z,processOnMount:!0}),{showPortal:b,hidePortal:B,renderPortal:Y}=he(T,n,se),m={anchorEl:i,innerRef:n,onClickOutside(t){if(e.persistent!==!0&&l.value===!0)return C(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&Be(t),!0}},O=s(()=>K(e.anchor||(e.cover===!0?"center middle":"bottom start"),o.lang.rtl)),p=s(()=>e.cover===!0?O.value:K(e.self||"top start",o.lang.rtl)),ee=s(()=>(e.square===!0?" q-menu--square":"")+(I.value===!0?" q-menu--dark q-dark":"")),te=s(()=>e.autoClose===!0?{onClick:ne}:{}),E=s(()=>l.value===!0&&e.persistent!==!0);D(E,t=>{t===!0?(Ce(q),Ae(m)):(R(q),Q(m))});function y(){Se(()=>{let t=n.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ae(t){if(a=e.noRefocus===!1?document.activeElement:null,me(M),b(),w(),f=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const P=ye(t);if(P.left!==void 0){const{top:ue,left:le}=i.value.getBoundingClientRect();f={left:P.left-le,top:P.top-ue}}}c===void 0&&(c=D(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,d)),e.noFocus!==!0&&document.activeElement.blur(),J(()=>{d(),e.noFocus!==!0&&y()}),x(()=>{o.platform.is.ios===!0&&(g=e.autoClose,n.value.click()),d(),b(!0),u("show",t)},e.transitionDuration)}function oe(t){N(),B(),F(!0),a!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),x(()=>{B(!0),u("hide",t)},e.transitionDuration)}function F(t){f=void 0,c!==void 0&&(c(),c=void 0),(t===!0||l.value===!0)&&(qe(M),V(),Q(m),R(q)),t!==!0&&(a=null)}function w(){(i.value!==null||e.scrollTarget!==void 0)&&(S.value=Pe(i.value,e.scrollTarget),G(S.value,d))}function ne(t){g!==!0?(ke(h,t),u("click",t)):g=!1}function M(t){E.value===!0&&e.noFocus!==!0&&be(n.value,t.target)!==!0&&y()}function q(t){u("escapeKey"),C(t)}function d(){const t=n.value;t===null||i.value===null||Me({el:t,offset:e.offset,anchorEl:i.value,anchorOrigin:O.value,selfOrigin:p.value,absoluteOffset:f,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function se(){return k(Te,U.value,()=>l.value===!0?k("div",{role:"menu",...r,ref:n,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,r.class],style:[r.style,Z.value],...te.value},$(v.default)):null)}return xe(F),Object.assign(h,{focus:y,updatePosition:d}),Y}});export{He as Q,Ke as a};
